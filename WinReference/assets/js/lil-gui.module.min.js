// lil-gui.module.min.js - https://lil-gui.georgealways.com/
const t="lil-gui",e=`<div class="lil-gui"><div class="title"></div><div class="children"></div></div>`,i=`<div class="controller"><div class="name"></div><div class="widget"></div></div>`,s=`<div class="boolean"><div class="widget"></div></div>`,o=`<div class="string"><input type="text"></div>`,n=`<div class="number"><div class="slider"></div><input type="text"></div>`,r=`<div class="option"><select></select></div>`,l=`<div class="function"><button></button></div>`,a=`<div class="color"><div class="display"></div><input type="text"></div>`,h=`<div class="color-picker"><div class="saturation-field"></div><div class="hue-slider"></div><div class="alpha-slider"></div></div>`,d=`<div class="folder"><div class="title"></div><div class="children"></div></div>`,c=`<div class="number-color"><div class="component"><input type="text"></div><div class="component"><input type="text"></div><div class="component"><input type="text"></div></div>`,p="<style>\n  .lil-gui {\n    font-family: var(--font-family, sans-serif);\n    font-size: var(--font-size, 11px);\n    line-height: 1;\n    font-weight: normal;\n    text-align: left;\n    background: var(--background-color, #1f1f1f);\n    color: var(--text-color, #fff);\n    user-select: none;\n    -webkit-user-select: none;\n    touch-action: manipulation;\n    --widget-height: 20px;\n    --title-height: var(--widget-height);\n    --name-width: 45%;\n    --padding: 4px;\n    --spacing: var(--padding);\n    --widget-padding: 0 5px;\n    --slider-knob-width: 2px;\n    --input-background: #353535;\n    --input-text-color: var(--text-color);\n    --focus-color: #4285f4;\n    --hover-color: #2b2b2b;\n    --active-color: #555;\n    --widget-color: #4285f4;\n    --outline-color: #000;\n    --slider-background: #222;\n    --background-color: #1a1a1a;\n    --text-color: #fff;\n    --title-background: #111;\n    --title-text-color: #fff;\n    --folder-background: #222;\n    --folder-text-color: #fff;\n    --highlight-color: #555;\n    --transition-duration: 0.15s;\n  }\n  .lil-gui.root {\n    width: var(--width, 245px);\n    display: flex;\n    flex-direction: column;\n  }\n  .lil-gui.root > .title {\n    background: var(--title-background, #111);\n    color: var(--title-text-color, #fff);\n    font-weight: 600;\n    padding: 0 var(--padding);\n    height: var(--title-height);\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n  }\n  .lil-gui.root > .children {\n    padding: var(--spacing);\n  }\n  .lil-gui .controller {\n    display: flex;\n    align-items: center;\n    height: var(--widget-height);\n    padding: 0 var(--padding);\n  }\n  .lil-gui .controller > .name {\n    width: var(--name-width);\n    flex-shrink: 0;\n    white-space: pre;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    padding-right: 5px;\n  }\n  .lil-gui .controller > .widget {\n    position: relative;\n    display: flex;\n    align-items: center;\n    width: calc(100% - var(--name-width));\n    height: 100%;\n  }\n  .lil-gui .controller:hover {\n    background: var(--hover-color);\n  }\n  .lil-gui .controller.active {\n    background: var(--active-color);\n  }\n  .lil-gui .boolean > .widget {\n    cursor: pointer;\n  }\n  .lil-gui .boolean input {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    width: 100%;\n    height: 100%;\n    background: var(--input-background);\n    border-radius: 2px;\n    outline: none;\n    cursor: pointer;\n  }\n  .lil-gui .boolean input:checked {\n    background: var(--widget-color);\n  }\n  .lil-gui .boolean input:focus {\n    box-shadow: 0 0 0 1px var(--focus-color);\n  }\n  .lil-gui .string input {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    width: 100%;\n    height: 100%;\n    background: var(--input-background);\n    border-radius: 2px;\n    border: none;\n    padding: var(--widget-padding);\n    color: var(--input-text-color);\n    outline: none;\n  }\n  .lil-gui .string input:focus {\n    background: var(--input-background);\n    box-shadow: 0 0 0 1px var(--focus-color) inset;\n  }\n  .lil-gui .string input:hover {\n    background: var(--input-background);\n  }\n  .lil-gui .number {\n    display: flex;\n  }\n  .lil-gui .number .slider {\n    flex-grow: 1;\n    background: var(--slider-background);\n    border-radius: 2px;\n    position: relative;\n    cursor: ew-resize;\n  }\n  .lil-gui .number.active .slider {\n    background: var(--highlight-color);\n  }\n  .lil-gui .number .slider:before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    height: 100%;\n    background: var(--widget-color);\n    border-radius: 2px;\n    width: var(--slider-fg-width, 0%);\n  }\n  .lil-gui .number .slider:after {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    height: 100%;\n    width: var(--slider-knob-width);\n    background: #fff;\n    transform: translateX(-50%);\n    left: var(--slider-fg-width, 0%);\n  }\n  .lil-gui .number input {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    width: 25%;\n    margin-left: var(--spacing);\n    background: var(--input-background);\n    border: none;\n    color: var(--input-text-color);\n    padding: var(--widget-padding);\n    text-align: center;\n    height: 100%;\n    border-radius: 2px;\n    outline: none;\n  }\n  .lil-gui .number input:focus {\n    background: var(--input-background);\n    box-shadow: 0 0 0 1px var(--focus-color) inset;\n  }\n  .lil-gui .number input:hover {\n    background: var(--input-background);\n  }\n  .lil-gui .number input::-webkit-inner-spin-button,\n  .lil-gui .number input::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n  .lil-gui .number input[type=\"number\"] {\n    -moz-appearance: textfield;\n  }\n  .lil-gui .option select {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    width: 100%;\n    height: 100%;\n    background: var(--input-background);\n    border-radius: 2px;\n    border: none;\n    padding: var(--widget-padding);\n    color: var(--input-text-color);\n    outline: none;\n  }\n  .lil-gui .option select:focus {\n    box-shadow: 0 0 0 1px var(--focus-color) inset;\n  }\n  .lil-gui .option.active select {\n    background: var(--highlight-color);\n  }\n  .lil-gui .function button {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    width: 100%;\n    height: 100%;\n    background: var(--widget-color);\n    border-radius: 2px;\n    border: none;\n    color: #fff;\n    font-size: inherit;\n    outline: none;\n    cursor: pointer;\n  }\n  .lil-gui .function button:hover {\n    opacity: 0.9;\n  }\n  .lil-gui .function button:focus {\n    box-shadow: 0 0 0 1px var(--focus-color) inset;\n  }\n  .lil-gui .color .display {\n    width: 100%;\n    height: 100%;\n    border: 1px solid var(--outline-color);\n    border-radius: 2px;\n    cursor: pointer;\n  }\n  .lil-gui .color-picker {\n    display: none;\n    position: absolute;\n    right: 0;\n    top: calc(var(--widget-height) + var(--spacing));\n    width: 150px;\n    background: var(--background-color);\n    border-radius: 4px;\n    border: 1px solid var(--outline-color);\n    padding: var(--padding);\n    z-index: 1;\n  }\n  .lil-gui .color-picker .saturation-field {\n    width: 100%;\n    height: 100px;\n    position: relative;\n    cursor: crosshair;\n  }\n  .lil-gui .color-picker .saturation-field:before,\n  .lil-gui .color-picker .saturation-field:after {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  }\n  .lil-gui .color-picker .saturation-field:before {\n    background: linear-gradient(to right, #fff, rgba(255, 255, 255, 0));\n  }\n  .lil-gui .color-picker .saturation-field:after {\n    background: linear-gradient(to top, #000, rgba(0, 0, 0, 0));\n  }\n  .lil-gui .color-picker .saturation-field .knob {\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    border-radius: 50%;\n    border: 1px solid #fff;\n    box-shadow: 0 0 0 1px #000;\n    transform: translate(-50%, -50%);\n  }\n  .lil-gui .color-picker .hue-slider {\n    width: 100%;\n    height: 10px;\n    background: linear-gradient(\n      to right,\n      #f00 0%,\n      #ff0 17%,\n      #0f0 33%,\n      #0ff 50%,\n      #00f 67%,\n      #f0f 83%,\n      #f00 100%\n    );\n    cursor: ew-resize;\n    position: relative;\n    margin-top: var(--spacing);\n  }\n  .lil-gui .color-picker .hue-slider .knob {\n    position: absolute;\n    top: 0;\n    height: 100%;\n    width: 2px;\n    background: #fff;\n    box-shadow: 0 0 0 1px #000;\n    transform: translateX(-50%);\n  }\n  .lil-gui .color-picker .alpha-slider {\n    width: 100%;\n    height: 10px;\n    background: linear-gradient(to right, rgba(0, 0, 0, 0), #000);\n    cursor: ew-resize;\n    position: relative;\n    margin-top: var(--spacing);\n  }\n  .lil-gui .color-picker .alpha-slider .knob {\n    position: absolute;\n    top: 0;\n    height: 100%;\n    width: 2px;\n    background: #fff;\n    box-shadow: 0 0 0 1px #000;\n    transform: translateX(-50%);\n  }\n  .lil-gui .color-picker .alpha-slider:before {\n    content: \"\";\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background-image: linear-gradient(45deg, #aaa 25%, transparent 25%),\n      linear-gradient(-45deg, #aaa 25%, transparent 25%),\n      linear-gradient(45deg, transparent 75%, #aaa 75%),\n      linear-gradient(-45deg, transparent 75%, #aaa 75%);\n    background-size: 8px 8px;\n    background-position: -2px -2px, -2px 2px, 2px -2px, 2px 2px;\n    z-index: -1;\n  }\n  .lil-gui .color input {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    display: none;\n  }\n  .lil-gui .folder {\n    padding: 0 var(--padding);\n  }\n  .lil-gui .folder > .title {\n    height: var(--widget-height);\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n    background: var(--folder-background, #222);\n    color: var(--folder-text-color, #fff);\n    padding: 0 var(--padding);\n    font-weight: 600;\n    border-radius: 2px;\n  }\n  .lil-gui .folder > .title:before {\n    content: \"\";\n    display: inline-block;\n    width: 0;\n    height: 0;\n    margin-right: 5px;\n    border-style: solid;\n    border-width: 3px 0 3px 5px;\n    border-color: transparent transparent transparent var(--folder-text-color, #fff);\n  }\n  .lil-gui .folder.closed > .title:before {\n    border-width: 5px 3px 0 3px;\n    border-color: var(--folder-text-color, #fff) transparent transparent transparent;\n  }\n  .lil-gui .folder.closed > .children {\n    display: none;\n  }\n  .lil-gui .folder + .controller,\n  .lil-gui .folder + .folder,\n  .lil-gui .controller + .folder {\n    margin-top: var(--spacing);\n  }\n  .lil-gui .number-color {\n    display: flex;\n  }\n  .lil-gui .number-color .component {\n    display: flex;\n    align-items: center;\n  }\n  .lil-gui .number-color .component:not(:first-child) {\n    margin-left: var(--spacing);\n  }\n  .lil-gui .number-color .component:before {\n    content: \"\";\n    padding: 0 2px;\n    font-weight: 600;\n  }\n  .lil-gui .number-color[data-channels=\"r\"] .component:nth-child(1):before {\n    content: \"R\";\n  }\n  .lil-gui .number-color[data-channels=\"rg\"] .component:nth-child(1):before {\n    content: \"R\";\n  }\n  .lil-gui .number-color[data-channels=\"rg\"] .component:nth-child(2):before {\n    content: \"G\";\n  }\n  .lil-gui .number-color[data-channels=\"rgb\"] .component:nth-child(1):before {\n    content: \"R\";\n  }\n  .lil-gui .number-color[data-channels=\"rgb\"] .component:nth-child(2):before {\n    content: \"G\";\n  }\n  .lil-gui .number-color[data-channels=\"rgb\"] .component:nth-child(3):before {\n    content: \"B\";\n  }\n  .lil-gui .number-color[data-channels=\"rgba\"] .component:nth-child(1):before {\n    content: \"R\";\n  }\n  .lil-gui .number-color[data-channels=\"rgba\"] .component:nth-child(2):before {\n    content: \"G\";\n  }\n  .lil-gui .number-color[data-channels=\"rgba\"] .component:nth-child(3):before {\n    content: \"B\";\n  }\n  .lil-gui .number-color[data-channels=\"rgba\"] .component:nth-child(4):before {\n    content: \"A\";\n  }\n  .lil-gui .number-color input {\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    width: 30px;\n    background: var(--input-background);\n    border: none;\n    color: var(--input-text-color);\n    padding: var(--widget-padding);\n    text-align: center;\n    height: 100%;\n    border-radius: 2px;\n    outline: none;\n  }\n  .lil-gui .number-color input:focus {\n    background: var(--input-background);\n    box-shadow: 0 0 0 1px var(--focus-color) inset;\n  }\n  .lil-gui .number-color input:hover {\n    background: var(--input-background);\n  }\n  .lil-gui.force-touch-style, .lil-gui.force-touch-style .number input {\n    width: 35px;\n  }\n  .lil-gui.force-touch-style .lil-gui-color-input {\n    width: 35px;\n  }\n  .lil-gui.force-touch-style.root {\n    width: 265px;\n  }\n</style>\n`;function g(t){return t.replace(/<transition-duration>/g,t.vars["--transition-duration"])}class u{constructor(e,i){this.$_parent=e,this.$_name=i}get parent(){return this.$_parent}get name(){return this.$_name}get domElement(){let e=this.$_parent;for(;e instanceof u;)e=e.parent;return e.domElement}get children(){return this.parent.children.filter(e=>e.parent===this)}get controllers(){return this.children.filter(e=>e instanceof m)}get folders(){return this.children.filter(e=>e instanceof b)}listen(){return this}}var m=u;class f extends m{constructor(e,i,s,o,n){super(e,o),this.$_object=i,this.$_prop=s,this.$_onChange=n,this.$_value=this.$_object[this.$_prop],this.$_initialValue=this.$_value}get object(){return this.$_object}get property(){return this.$_prop}get value(){return this.$_object[this.$_prop]}set value(t){this.$_object[this.$_prop]=t,this.$_onChange(t),this.updateDisplay()}updateDisplay(){return this}listen(){const t=()=>requestAnimationFrame(t);this.$_listen=!0,this.updateDisplay=()=>{const e=this.value;return e!==this.$_value&&(this.$_value=e,this.$_onFinishChange(e)),this},this.updateDisplay()}finishChange(e){return this.$_onFinishChange=e,this}onChange(e){return this.$_onChange=e,this}onFinishChange(e){return this.$_onFinishChange=e,this}$_onFinishChange(t){this.parent.root._onFinishChange(this,t)}}class b extends m{constructor(e,i){super(e,i),this.$_name=i,this.$_children=[],this.$_closed=!1,this.$_dom=document.createElement("div"),this.$_dom.innerHTML=d,this.$_dom=this.$_dom.firstChild,this.$_title=this.$_dom.querySelector(".title"),this.$_childrenContainer=this.$_dom.querySelector(".children"),this.$_title.innerHTML=i,this.$_dom.classList.add("folder"),this.$_title.addEventListener("click",()=>this.closed=!this.closed),e.domElement.children[1].appendChild(this.$_dom)}get children(){return this.$_children}get closed(){return this.$_closed}set closed(t){t?this.$_dom.classList.add("closed"):this.$_dom.classList.remove("closed"),this.$_closed=t}add(t,e,i,s,o){const n=new v(this.root,this);return n.add(t,e,i,s,o)}addColor(t,e){const i=new _(this.root,this);return i.addColor(t,e)}addFolder(t){return new b(this,t)}get root(){let t=this;for(;t.parent;)t=t.parent;return t}}function y(t,e){const i=document.createElement("div");return i.innerHTML=t,e?i.firstChild:i.children[0]}function C(t,e,i=!1){const s=t.getBoundingClientRect(),o=e.getBoundingClientRect();let n,r,l,a;return i?(n=s.bottom>o.top&&s.top<o.bottom,r=s.right>o.left&&s.left<o.right,l=s.width,a=s.height):(n=s.top<o.bottom,r=s.right>o.left,l=s.left,a=s.top),n&&r&&l<o.right&&a<o.bottom}function k(t,e){return t.length>e&&`${t.substring(0,e)}...`}class w{constructor(t,e,i){this.$_parent=t,this.$_object=e,this.$_name=i}listen(){this.$_listen=!0}get parent(){return this.$_parent}get domElement(){return this.$_parent.domElement}}class $ extends f{constructor(t,e,s,o,n){super(t,e,s,o,n),this.$_dom=y(i),this.$_widget=this.$_dom.querySelector(".widget"),this.$_name=this.$_dom.querySelector(".name"),this.$_name.innerHTML=o,this.$_dom.appendChild(this.$_name),this.$_dom.appendChild(this.$_widget),t.$_childrenContainer.appendChild(this.$_dom),this.updateDisplay()}}class S extends ${constructor(t,e,s,o){super(t,e,s,o,()=>{}),this.$_dom.classList.add("boolean"),this.$_widget.innerHTML=s,this.$_input=this.$_widget.querySelector("input"),this.$_input.type="checkbox",this.$_input.setAttribute("aria-labelledby",this.$_name.id),this.$_widget.addEventListener("change",()=>{this.value=!this.value})}}class E extends ${constructor(t,e,s,o,n){super(t,e,s,o,n),this.$_dom.classList.add("string"),this.$_widget.innerHTML=o,this.$_input=this.$_widget.querySelector("input"),this.$_input.setAttribute("aria-labelledby",this.$_name.id),this.$_input.value=this.value;let r=this.value;const l=()=>{r!==this.value&&(this.value=r,this.$_onFinishChange(this.value))},a=t=>{13===t.keyCode&&l()};this.$_input.addEventListener("input",()=>{r=this.$_input.value,this.$_onChange(r)}),this.$_input.addEventListener("blur",l),this.$_input.addEventListener("keydown",a),this.updateDisplay=()=>(this.$_input.value=this.value,this)}}class v extends f{constructor(t,e,s,o,n,r){super(t,e,s,o,r),this.$_min=n,this.$_max=o,this.$_step=this.$_getStep(),this.$_dom=y(i),this.$_widget=this.$_dom.querySelector(".widget"),this.$_name=this.$_dom.querySelector(".name"),this.$_name.innerHTML=o,this.$_dom.appendChild(this.$_name),this.$_dom.appendChild(this.$_widget),t.$_childrenContainer.appendChild(this.$_dom),this.$_dom.classList.add("number"),this.$_widget.innerHTML=n;const l=this.$_widget.querySelector(".slider"),a=this.$_widget.querySelector("input");a.type="text",a.setAttribute("aria-labelledby",this.$_name.id);let h,d,c,p,g;const u=t=>{this.value=this.$_snap(this.value+t)},m=()=>{p=void 0,window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",b)},f=t=>{let e=(t.clientX-h)/d*c;p!==void 0&&(e=t-p),this.value=this.$_snap(g+e),p=t},b=()=>{this.$_onFinishChange(this.value),m()};l.addEventListener("mousedown",t=>{h=t.clientX,d=l.getBoundingClientRect().width,c=this.$_max-this.$_min,g=this.value,window.addEventListener("mousemove",f),window.addEventListener("mouseup",b)}),l.addEventListener("touchstart",t=>{if(t.touches.length>1)return;const e=l.getBoundingClientRect();h=t.touches[0].clientX,d=e.width,c=this.$_max-this.$_min,g=this.value}),l.addEventListener("touchmove",t=>{p=t.touches[0].clientX;let e=(p-h)/d*c;this.value=this.$_snap(g+e)}),l.addEventListener("touchend",()=>{this.$_onFinishChange(this.value)});let C=this.value;a.addEventListener("input",()=>{const t=parseFloat(a.value);isNaN(t)||(C=t,this.$_onChange(C))});const k=()=>{C!==this.value&&(this.value=C,this.$_onFinishChange(this.value))};a.addEventListener("blur",k),a.addEventListener("keydown",t=>{13===t.keyCode&&k(),38===t.keyCode&&(t.preventDefault(),u(this.$_step)),40===t.keyCode&&(t.preventDefault(),u(-this.$_step))}),this.updateDisplay=()=>{const t=(this.value-this.$_min)/(this.$_max-this.$_min);let e=this.value.toString();if(this.$_step)if(this.$_step.toString().includes(".")){const i=this.$_step.toString().split(".")[1].length;e=this.value.toFixed(i)}a.value=e,l.style.setProperty("--slider-fg-width",100*t+"%")}}step(t){return this.$_step=t,this.updateDisplay()}$_getStep(){if(this.$_step)return this.$_step;let t=this.value.toPrecision(15).split(".")[1];return t?Math.pow(10,-t.length):1}$_snap(t){if(!this.$_step)return t;let e=this.value%this.$_step;return t-e+(t-this.value>this.$_step/2?this.$_step:0)}$_getStepDecimals(){const t=this.$_getStep();if(Math.floor(t)===t)return 0;const e=t.toString();if(e.includes("e-"))return parseInt(e.split("e-")[1]);return e.split(".")[1].length}}class A extends ${constructor(t,e,s,o,n){super(t,e,s,o,n),this.$_dom.classList.add("option"),this.$_widget.innerHTML=r;const l=this.$_widget.querySelector("select");l.setAttribute("aria-labelledby",this.$_name.id);let a=o.constructor===Array;if(n)a=Object.values(o).every(t=>"string"==typeof t);else for(let t in o)l.innerHTML+=`<option value="${t}">${o[t]}</option>`;l.value=this.value,l.addEventListener("change",()=>{this.value=l.value}),this.updateDisplay=()=>{l.value=this.value}}}class x extends ${constructor(t,e,s,o){super(t,e,"",s,o),this.$_dom.classList.add("function"),this.$_widget.innerHTML=l;const n=this.$_widget.querySelector("button");n.innerHTML=s,n.addEventListener("click",()=>{this.value()})}}function L(t,e,i,s,o,n){const r=document.createElement("div");r.classList.add("knob"),o.appendChild(r);const l={};function a(a){const h=i-s,d=a.clientX-s,c=Math.max(0,Math.min(1,d/h));t(c),l.x=c;const p=d-r.clientWidth/2;r.style.left=100*c+"%",n&&n(l)}function h(t){window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",h),e(l.x)}i||(i=o.getBoundingClientRect().width+s),o.addEventListener("mousedown",function(t){s=o.getBoundingClientRect().left,window.addEventListener("mousemove",a),window.addEventListener("mouseup",h),a(t)})}class T{constructor(t,e,i){this.hsv={h:0,s:0,v:0},this.alpha=1,this.isDown=this.isDown.bind(this),this.move=this.move.bind(this),this.up=this.up.bind(this),this.domElement=y(h),this.saturation=this.domElement.querySelector(".saturation-field"),this.hue=this.domElement.querySelector(".hue-slider"),this.alphaSlider=this.domElement.querySelector(".alpha-slider"),this.alphaSlider.style.display=i?"block":"none",this.hueKnob=y('<div class="knob">'),this.saturationKnob=y('<div class="knob">'),this.alphaKnob=y('<div class="knob">'),this.hue.appendChild(this.hueKnob),this.saturation.appendChild(this.saturationKnob),this.alphaSlider.appendChild(this.alphaKnob),this.hue.addEventListener("mousedown",this.isDown),this.saturation.addEventListener("mousedown",this.isDown),this.alphaSlider.addEventListener("mousedown",this.isDown)}isDown(t){this.target=t.currentTarget,this.move(t),window.addEventListener("mousemove",this.move),window.addEventListener("mouseup",this.up)}move(t){const{target:e}=this;let i=e.getBoundingClientRect();if(e===this.hue)this.hsv.h=(t.clientX-i.left)/i.width;else if(e===this.saturation){this.hsv.s=(t.clientX-i.left)/i.width,this.hsv.v=1-(t.clientY-i.top)/i.height}else e===this.alphaSlider&&(this.alpha=(t.clientX-i.left)/i.width);this.hsv.h=Math.max(0,Math.min(this.hsv.h,1)),this.hsv.s=Math.max(0,Math.min(this.hsv.s,1)),this.hsv.v=Math.max(0,Math.min(this.hsv.v,1)),this.alpha=Math.max(0,Math.min(this.alpha,1)),this.onMove(this.hsv),this.updateKnobs()}up(){window.removeEventListener("mousemove",this.move),window.removeEventListener("mouseup",this.up),this.onUp&&this.onUp()}onMove(t){}onUp(){}updateKnobs(){this.hueKnob.style.left=100*this.hsv.h+"%",this.saturationKnob.style.left=100*this.hsv.s+"%",this.saturationKnob.style.top=100*(1-this.hsv.v)+"%",this.saturation.style.backgroundColor=`hsl(${360*this.hsv.h}, 100%, 50%)`,this.alphaKnob.style.left=100*this.alpha+"%",this.alphaSlider.style.background=`linear-gradient(to right, rgba(0,0,0,0), hsl(${360*this.hsv.h},${100*this.hsv.s}%,${100*.5*(2-this.hsv.s)*(this.hsv.v)}%))`}}function I(t){let e,i,s,o,n,r,l,a;switch(t.length){case 4:e=parseInt(t[1]+t[1],16),i=parseInt(t[2]+t[2],16),s=parseInt(t[3]+t[3],16),a=1;break;case 5:e=parseInt(t[1]+t[1],16),i=parseInt(t[2]+t[2],16),s=parseInt(t[3]+t[3],16),a=parseInt(t[4]+t[4],16)/255;break;case 7:e=parseInt(t.substring(1,3),16),i=parseInt(t.substring(3,5),16),s=parseInt(t.substring(5,7),16),a=1;break;case 9:e=parseInt(t.substring(1,3),16),i=parseInt(t.substring(3,5),16),s=parseInt(t.substring(5,7),16),a=parseInt(t.substring(7,9),16)/255}return[e,i,s,a]}function H(t,e,i){const s=i<0?i+1:i>1?i-1:i;let o;return o=6*s<1?t+(e-t)*6*s:2*s<1?e:3*s<2?t+(e-t)*(2/3-s)*6:t,o}function O({h:t,s:e,v:i},s){let o,n,r;if(0===e)o=n=r=i;else{const s=.5*(2-e)*i,l=s<1?s*(1+e):s+e-s*e;t*=360,o=H(s,l,(t+120)/360),n=H(s,l,t/360),r=H(s,l,(t-120)/360)}return{r:o,g:n,b:r,a:s}}class D{constructor(t,e=!1){this.parent=t,this.width=200,this.height=120,this.hsv={h:0,s:1,v:1},this.domElement=document.createElement("div"),this.domElement.setAttribute("class","lil-gui-color-picker"),this.saturation=document.createElement("div"),this.saturation.setAttribute("class","lil-gui-color-picker-saturation"),this.domElement.appendChild(this.saturation),this.hue=document.createElement("div"),this.hue.setAttribute("class","lil-gui-color-picker-hue"),this.domElement.appendChild(this.hue),L(t=>this.hsv.h=t,()=>{},0,1,this.hue),L(t=>this.hsv.s=t,()=>{},0,1,this.saturation),e&&(this.alpha=document.createElement("div"),this.alpha.setAttribute("class","lil-gui-color-picker-alpha"),this.domElement.appendChild(this.alpha),L(t=>{},()=>{},0,1,this.alpha))}updateSaturation(){this.saturation.style.backgroundColor=`hsl( ${360*this.hsv.h} , 100%, 50%)`}}class N{constructor(t,e=!0){if(t.isColor)this.color=t;else{const i=I(t);this.color=new THREE.Color(i[0],i[1],i[2])}this.alpha=1}toHexString(){return"#"+this.color.getHexString()}fromHexString(t){this.color.set(t)}}const M=/^((?:rgb|hsl)a?)\s*\(([^)]*)\)/,P=/^\s*([+-]?\d*),?\s*([+-]?\d*),?\s*([+-]?\d*),?\s*([+-]?\d*.?\d+)\s*$/;class _ extends f{constructor(t,e,i,s,o){super(t,e,s,o,n),this.$_dom.classList.add("color"),this.$_widget.innerHTML=a,this.$_display=this.$_widget.querySelector(".display"),this.$_input=this.$_widget.querySelector("input"),this.$_input.type="text";const r=()=>{this.$_colorPicker.style.display="none",window.removeEventListener("mousedown",r)};this.$_display.addEventListener("click",()=>{this.$_colorPicker.style.display="block",window.addEventListener("mousedown",r),r()})}}}class V extends m{constructor(e,i){super(e,i),this.$_name=i,this.$_children=[],this.$_closed=!1,this.$_dom=document.createElement("div"),this.$_dom.innerHTML=d,this.$_dom=this.$_dom.firstChild,this.$_title=this.$_dom.querySelector(".title"),this.$_childrenContainer=this.$_dom.querySelector(".children"),this.$_title.innerHTML=i,this.$_dom.classList.add("folder"),this.$_title.addEventListener("click",()=>this.closed=!this.closed),e.domElement.children[1].appendChild(this.$_dom)}get children(){return this.$_children}add(t,e,i,s,o){const n=new v(this.root,this);return n.add(t,e,i,s,o)}addColor(t,e){const i=new _(this.root,this);return i.addColor(t,e)}addFolder(t){return new b(this,t)}get root(){let t=this;for(;t.parent;)t=t.parent;return t}}class z{constructor(t={}){this.parent=t.parent,this.domElement=y(e),this.domElement.classList.add("root"),this.children=[],this.folders=[],this.controllers=[],this.title=this.domElement.querySelector(".title"),this.title.innerHTML=t.title||"Controls",this.$_childrenContainer=this.domElement.querySelector(".children"),t.parent||(document.body.appendChild(this.domElement),this.domElement.classList.add("root"))}add(t,e,i,s,o){let n;if(i)n=new v(this,t,e,i,s,o);else{const i=t[e];if(i instanceof Function)n=new x(this,t,e);else if("string"==typeof i)n=new E(this,t,e);else if("number"==typeof i){let o;n=new v(this,t,e,o,void 0,void 0)}else if("boolean"==typeof i)n=new S(this,t,e);else if(i instanceof Array)n=new A(this,t,e,i);else if(i.isColor)n=new _(this,t,e)}return this.controllers.push(n),this.children.push(n),n}addFolder(t){const e=new b(this,t);return this.folders.push(e),this.children.push(e),e}onChange(t){return this.$_onChange=t,this}onFinishChange(t){return this.$_onFinishChange=t,this}$_onChange(t,e){}onFinishChange(t,e){}$_onFinishChange(t,e){}}export{z as default};